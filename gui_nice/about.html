<h3>About Dual-Pool Mining Proxy (DPMP)</h3>
<p><strong>DPMP </strong>&nbsp;is a lightweight, high-reliability&nbsp;<strong>Stratum v1 mining proxy</strong>&nbsp;designed to sit between one or more miners and&nbsp;two upstream mining pools. It was designed primarily for Bitcoin solo-miners who run one or more ASIC miners (SHA-256) and want to split hash power across pools. Some miners, like the NerdQAxe++, have a built-in "dual pool mining" feature but the majority of miners out there do not.</p>
<p>So if you have one or more miners that do NOT have a built-in dual-pool mining feature (like the Canaan Avalon Q or the Nano3S) and you would like, for example, to mine to a BTC pool and a Bitcoin Cash pool simultaneously, then <strong>DPMP</strong> is for you.&nbsp;</p>
<p><strong>DPMP</strong> enables&nbsp;<strong>deterministic dual-pool scheduling</strong>, advanced difficulty/extranonce handling, and deep observability via Prometheus metrics &mdash; while remaining simple to deploy and operate.</p>
<p dir="auto">At a high level, <strong>DPMP</strong>:</p>
<ul dir="auto">
<li>Accepts Stratum connections from miners (acts like a pool)</li>
<li>Maintains concurrent Stratum connections to&nbsp;<strong>two upstream pools</strong>&nbsp;(acts like a miner)</li>
<li>Routes jobs and share submissions according to a&nbsp;<strong>scheduler</strong></li>
<li>Ensures correct propagation of:
<ul dir="auto">
<li>difficulty</li>
<li>extranonce</li>
<li>job IDs</li>
</ul>
</li>
<li>Exposes detailed runtime metrics for monitoring and analysis</li>
<li>Logs structured, machine-readable events for debugging and auditing</li>
</ul>
<p dir="auto">The proxy is intentionally&nbsp;<strong>transparent</strong>: miners and pools do not need to be modified or aware that DPMP is in the middle.</p>
<hr />
<h4 dir="auto">Configuration and Setup</h4>
<p dir="auto">On the <em>Config</em>&nbsp;tab you will need to edit the <strong>pools</strong> section and, for both pools, put in the URL/IP Address, Port, and the wallet address to be used when mining to that pool (make sure the wallet address is correct!) You can also give&nbsp;the pool a name.&nbsp;</p>
<p dir="auto">By detault, the work will be split 50/50 between the two pools. You can adjust the weighting in the <strong>scheduler</strong> section (i.e., perhaps 70/30 or 90/10...whatever you like).</p>
<p dir="auto">Once you make the changes, click the <strong>APPLY + RESTART</strong> button and <strong>DPMP</strong> will restart. When it does, check the <em>Hom</em>e tab and make sure you see: <strong>DPMP</strong>: running and <strong>Active pool</strong>: (either A or B).</p>
<p dir="auto">Now, for each miner you want to use with the proxy, set up the miner's Pool URL to point to the IP address of the box on which you are running the <strong>DPMP</strong> proxy, set the Port to 3351, and put in one of your wallet addresses, a period, and finally the workername (i.e., &lt;wallet address&gt;.&lt;workername&gt;)</p>
<p dir="auto">Please note that the wallet address you input in the miner is <strong>NOT</strong> used by the proxy...only the workername is used. The proxy gets the correct wallet address to use for each pool from the <strong>DPMP</strong> Configuration file, and when it communicates with either pool it uses the correct wallet address for that pool.</p>
<p dir="auto">Once your miners are configured and restarted, check the <em>Home</em> tab and you should see the correct number of miners connected, and the Accepted, Rejected, and Jobs stats should be updating. You should also see your miner(s) show up on your pool dashboards.&nbsp;</p>
<p dir="auto"><strong>Note</strong>: When using <strong>DPMP</strong>, it&nbsp;is normal for the Rejection Rate reported in your miner dashboard to be a bit higher than usual, and this is because switching between pools introduces some <em>job not found</em> as well as some&nbsp;<em>stale job</em> conditions. Again, this is normal and nothing to be worried about.</p>
<p>&nbsp;</p>
